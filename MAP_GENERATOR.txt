=== SECTION: MAP_GENERATION_BOOTSTRAP ===

[[LLM_INSTRUCTION]]: Your output must strictly adhere to the module formatting rules defined in LLM_FORMATTING_GUIDELINES_TEMPLATE.

[KEEP: Purpose & Role]
Generate hierarchical map modules for use in a character operating system. All output must be parseable as a native module with a consistent structured format.

[KEEP: Rules for Map Creation]
1. Generate maps in module format only. Use SECTION headers, SECTION_BREAK, and [KEY_TERM: Document Complete] exactly as specified.
2. Each map must have:
   - Map_ID (unique)
   - Name
   - Type (Indoor, Outdoor, Hybrid)
   - Parent_Map (NULL if top-level)
   - Coordinate_System (e.g., Grid, 5x5 feet)
   - Rooms with Dimensions, Transition_Points, Moveable_Objects, Immovable_Objects
   - General_Sensory_Data (Auditory, Visual, Olfactory, Tactile, Thermal)
3. Nested maps are allowed. Use Transition_Points to reference another Map_ID (must exist in registry). 
4. All sensory, dimension, and object data must be internally consistent.
5. NEVER break SECTION rules, and do not use standard Markdown.
6. For any nested map, create the sub-map as a separate module with identical formatting.
7. Only output one map module per request unless explicitly asked to batch-create maps.
8. Assign unique URLs/Map_IDs for all generated maps for registry integration.

[KEEP: Output Format Specifications]
1. Map Header:
   - Begin with map metadata (ID, Name, Type, Parent_Map, Coordinate_System)
   - Present General_Sensory_Data as bullet points under sensory type headers
   
2. Room Format:
   - List each room under "Rooms:" with the format "Room_Name:"
   - Only include room-specific Sensory_Data that differs from general data
   - Present Dimensions as WIDTHxLENGTH
   - List Transition_Points with coordinates and destinations
   - Group Immovable_Objects and Moveable_Objects separately
   - Use consistent indentation for readability

3. Coordinate System Implementation:
   - Each coordinate (e.g., N1W1) represents a full grid square of the specified size
   - Use concise object descriptions
   - Items in same grid square should use same coordinate with separate entries

4. Required Formatting:
   - Use two-space indentation for all nested elements
   - List sensory data with simple descriptions, no prose narratives
   - End with proper SECTION_BREAK and document termination

=== SECTION_BREAK ===

=== SECTION: OUTPUT_TEMPLATE ===

[[LLM_INSTRUCTION]]: Follow this template exactly for map output generation:

=== SECTION: [MAP_NAME] ===

Map_ID: [UNIQUE_ID]
Name: "[MAP_NAME]"
Type: [Indoor/Outdoor/Hybrid]
Parent_Map: [PARENT_MAP_ID or NULL]
Coordinate_System: [SYSTEM_TYPE], [GRID_SIZE], [ORIGIN_POINT]

General_Sensory_Data:
  Auditory: [GENERAL_SOUNDS]
  Olfactory: [GENERAL_SMELLS]
  Tactile: [GENERAL_TEXTURES]
  Thermal: [GENERAL_TEMPERATURE]
  Visual: [GENERAL_SIGHTS]

Rooms:
  [Room_Name]:
    Sensory_Data:
      [SENSE_TYPE]: [ROOM-SPECIFIC_SENSORY_DATA]
    Dimensions: [WIDTH]x[LENGTH]
    Transition_Points:
      [COORDINATE]: [TYPE] [DESCRIPTION] â†’ [DESTINATION]
    Immovable_Objects:
      [COORDINATE]: [OBJECT_DESCRIPTION]
    Moveable_Objects:
      [COORDINATE]: [OBJECT_DESCRIPTION]
    Containers:
      [COORDINATE]: [CONTAINER_DESCRIPTION]
        Contents:
          - [ITEM_DESCRIPTION]

  [Next_Room_Name]:
    [Continue same format for each room]

=== SECTION_BREAK ===
[KEY_TERM: Document Complete]
