=== SECTION: MAP_GENERATION_BOOTSTRAP ===

[[LLM_INSTRUCTION]]: Your output must strictly adhere to the module formatting rules defined in LLM_FORMATTING_GUIDELINES_TEMPLATE. 

[KEEP: Purpose & Role]
Generate hierarchical map modules for use in a character operating system. All output must be parseable as a native module.

[KEEP: Rules for Map Creation]
1. Generate maps in module format only. Use SECTION headers, SECTION_BREAK, and [KEY_TERM: Document Complete] exactly as specified.
2. Each map must have:
   - Map_ID (unique, format: [CATEGORY]_[NUMBER], e.g., HOUSE_01, DUNGEON_23)
   - Name (descriptive, quoted)
   - Type (Indoor, Outdoor, Hybrid)
   - Parent_Map (NULL if top-level, Map_ID if nested)
   - Coordinate_System (specify grid size, origin, axis directions)
   - Rooms with Dimensions, Transition_Points, Moveable_Objects, Immovable_Objects
   - General_Sensory_Data (Auditory, Visual, Olfactory, Tactile, Thermal - ALL REQUIRED)
   - Room-specific Local_Sensory_Data where applicable
3. Nested maps are allowed. Use Transition_Points to reference another Map_ID (must exist in registry).
4. All sensory, dimension, and object data must be internally consistent.
5. NEVER break SECTION rules, and do not use standard Markdown.
6. For any nested map, create the sub-map as a separate module with identical formatting.
7. Only output one map module per request unless explicitly asked to batch-create maps.
8. Assign unique URLs/Map_IDs for all generated maps for registry integration.

[KEEP: Validation Requirements]
- Coordinate consistency: All object and transition point coordinates must fall within room dimensions
- Sensory coherence: Local sensory data should complement, not contradict, general sensory data
- Logical connections: Transition points between rooms must have corresponding entries in both rooms
- Object realism: Moveable objects should be logically placeable, immovable objects should be structurally sound
- Dimension accuracy: Room dimensions should accommodate all placed objects with realistic spacing

[KEEP: Example Map Structure]

[KEEP: Map Interconnection Guidelines]
- EXTERNAL_MAP: References to maps outside current structure (streets, neighboring buildings)
- INTERNAL_MAP: References to rooms within the same map structure
- NESTED_MAP: References to sub-maps that provide detailed views of specific areas
- All referenced Map_IDs must be planned for registry integration
- Transition points should specify entry conditions (locked, broken, hidden, etc.)

=== SECTION: EXAMPLE_MAP ===
Map_ID: HOUSE_01
Name: "Dilapidated Farmhouse"
Type: Indoor
Parent_Map: NULL
Coordinate_System: Grid, 5x5 feet per square, Origin North-West N1W1, X-axis extends East (W1 to W2 to W3), Y-axis extends South (N1 to N2 to N3)

General_Sensory_Data:
  Auditory: Crickets, wind in trees, distant traffic hum
  Visual: Dim yellow light filtering through torn curtains, dust motes dancing
  Olfactory: Damp plaster, musty wood, faint kerosene scent
  Tactile: Grimy floor, rough wooden surfaces, sticky door handles  
  Thermal: Slightly warm, humid air with cool drafts

Rooms:
  Living_Room:
    Dimensions: 20x15
    Local_Sensory_Data:
      Auditory: Floorboard creaks, muffled external sounds
      Visual: Faded wallpaper, cracked ceiling plaster
      Olfactory: Stronger musty scent, old fabric smell
    Transition_Points:
      N4W2: [DOOR] Front Door (Locked, Heavy Oak) to EXTERNAL_MAP: STREET_MAIN
      N2W4: [WINDOW] Broken Window (Glass shards on sill) to NESTED_MAP: BARN_INTERIOR
      N1W3: [DOORWAY] Kitchen Entrance (Open archway) to INTERNAL_MAP: KITCHEN
    Moveable_Objects:
      N1W2: Couch (Leather, worn, can be pushed)
      N3W3: TV (Old CRT, 32-inch, unplugged)
      N2W1: Coffee Table (Wooden, scratched surface)
    Immovable_Objects:
      N3W2: Chain bolted to floor (Heavy steel, 3-foot length)
      N4W1: Fireplace (Stone, cold ashes inside)
      N1W4: Built-in Bookshelf (Empty, dusty shelves)

  Kitchen:
    Dimensions: 12x10
    Local_Sensory_Data:
      Auditory: Dripping faucet, refrigerator hum
      Visual: Peeling linoleum, stained countertops
      Olfactory: Sour milk, cleaning chemicals
    Transition_Points:
      N1W3: [DOORWAY] Living Room Entrance (Open archway) to INTERNAL_MAP: LIVING_ROOM
      N3W1: [DOOR] Back Door (Unlocked, Screen door broken) to EXTERNAL_MAP: BACKYARD
    Moveable_Objects:
      N2W2: Kitchen Table (Metal legs, formica top)
      N1W1: Trash Can (Plastic, half-full)
    Immovable_Objects:
      N1W2: Kitchen Sink (Porcelain, single basin, leaky faucet)
      N2W1: Refrigerator (White, humming, door slightly ajar)
      N3W2: Stove (Gas, four burners, pilot light out)

=== SECTION_BREAK ===
[KEY_TERM: Document Complete]

[[LLM_INSTRUCTION]]: Generate a new map module now following the structure above. Ensure all rooms, transition points, and objects are fully described. Assign a unique Map_ID and prepare for registry integration.

[KEEP: Error Handling and Quality Assurance]
- If coordinate validation fails, regenerate object placement within room bounds
- If sensory data conflicts, prioritize room-specific over general data
- If transition points lack reciprocal connections, flag for manual review
- If Map_ID format is invalid, regenerate using proper [CATEGORY]_[NUMBER] format
- Always verify all five sensory data types are present before completion
